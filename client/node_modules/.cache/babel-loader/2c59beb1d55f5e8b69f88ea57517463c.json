{"ast":null,"code":"import{useEffect,useState}from\"react\";import{BrowserRouter,Routes,Route}from\"react-router-dom\";import axios from\"axios\";import Loader from\"./components/Loader\";import Home from\"./pages/Home\";import{useDispatch,useSelector}from\"react-redux\";import{HideLoading,SetPortfolioData,ShowLoading,ReloadData}from\"./redux/rootSlice\";import Admin from\"./pages/Admin\";import Login from\"./pages/Admin/Login\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const{loading,portfolioData,reloadData}=useSelector(state=>state.root);const dispatch=useDispatch();const getPortfolioData=async()=>{try{dispatch(ShowLoading());const response=await axios.get(\"/api/portfolio/get-portfolio-data\");dispatch(SetPortfolioData(response.data));dispatch(ReloadData(false));dispatch(HideLoading());}catch(error){dispatch(HideLoading());}};useEffect(()=>{if(!portfolioData){getPortfolioData();}},[portfolioData]);useEffect(()=>{if(reloadData){getPortfolioData();}},[reloadData]);return/*#__PURE__*/_jsxs(BrowserRouter,{children:[loading?/*#__PURE__*/_jsx(Loader,{}):null,/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(Admin,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin-login\",element:/*#__PURE__*/_jsx(Login,{})})]})]});}export default App;","map":{"version":3,"names":["useEffect","useState","BrowserRouter","Routes","Route","axios","Loader","Home","useDispatch","useSelector","HideLoading","SetPortfolioData","ShowLoading","ReloadData","Admin","Login","App","loading","portfolioData","reloadData","state","root","dispatch","getPortfolioData","response","get","data","error"],"sources":["C:/Users/user/mern-portfolio-udemy/client/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Loader from \"./components/Loader\";\r\n\r\nimport Home from \"./pages/Home\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  HideLoading,\r\n  SetPortfolioData,\r\n  ShowLoading,\r\n  ReloadData,\r\n} from \"./redux/rootSlice\";\r\nimport Admin from \"./pages/Admin\";\r\nimport Login from \"./pages/Admin/Login\";\r\n\r\nfunction App() {\r\n  const { loading, portfolioData, reloadData } = useSelector(\r\n    (state) => state.root\r\n  );\r\n  const dispatch = useDispatch();\r\n  const getPortfolioData = async () => {\r\n    try {\r\n      dispatch(ShowLoading());\r\n      const response = await axios.get(\"/api/portfolio/get-portfolio-data\");\r\n      dispatch(SetPortfolioData(response.data));\r\n      dispatch(ReloadData(false));\r\n      dispatch(HideLoading());\r\n    } catch (error) {\r\n      dispatch(HideLoading());\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!portfolioData) {\r\n      getPortfolioData();\r\n    }\r\n  }, [portfolioData]);\r\n\r\n  useEffect(() => {\r\n    if (reloadData) {\r\n      getPortfolioData();\r\n    }\r\n  }, [reloadData]);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      {loading ? <Loader /> : null}\r\n      <Routes>\r\n        <Route path=\"/\" element={<Home />} />\r\n        <Route path=\"/admin\" element={<Admin />} />\r\n        <Route path=\"/admin-login\" element={<Login />} />\r\n      </Routes>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,aAAT,CAAwBC,MAAxB,CAAgCC,KAAhC,KAA6C,kBAA7C,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,OAAP,KAAmB,qBAAnB,CAEA,MAAOC,KAAP,KAAiB,cAAjB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OACEC,WADF,CAEEC,gBAFF,CAGEC,WAHF,CAIEC,UAJF,KAKO,mBALP,CAMA,MAAOC,MAAP,KAAkB,eAAlB,CACA,MAAOC,MAAP,KAAkB,qBAAlB,C,wFAEA,QAASC,IAAT,EAAe,CACb,KAAM,CAAEC,OAAF,CAAWC,aAAX,CAA0BC,UAA1B,EAAyCV,WAAW,CACvDW,KAAD,EAAWA,KAAK,CAACC,IADuC,CAA1D,CAGA,KAAMC,SAAQ,CAAGd,WAAW,EAA5B,CACA,KAAMe,iBAAgB,CAAG,SAAY,CACnC,GAAI,CACFD,QAAQ,CAACV,WAAW,EAAZ,CAAR,CACA,KAAMY,SAAQ,CAAG,KAAMnB,MAAK,CAACoB,GAAN,CAAU,mCAAV,CAAvB,CACAH,QAAQ,CAACX,gBAAgB,CAACa,QAAQ,CAACE,IAAV,CAAjB,CAAR,CACAJ,QAAQ,CAACT,UAAU,CAAC,KAAD,CAAX,CAAR,CACAS,QAAQ,CAACZ,WAAW,EAAZ,CAAR,CACD,CAAC,MAAOiB,KAAP,CAAc,CACdL,QAAQ,CAACZ,WAAW,EAAZ,CAAR,CACD,CACF,CAVD,CAYAV,SAAS,CAAC,IAAM,CACd,GAAI,CAACkB,aAAL,CAAoB,CAClBK,gBAAgB,GACjB,CACF,CAJQ,CAIN,CAACL,aAAD,CAJM,CAAT,CAMAlB,SAAS,CAAC,IAAM,CACd,GAAImB,UAAJ,CAAgB,CACdI,gBAAgB,GACjB,CACF,CAJQ,CAIN,CAACJ,UAAD,CAJM,CAAT,CAMA,mBACE,MAAC,aAAD,YACGF,OAAO,cAAG,KAAC,MAAD,IAAH,CAAgB,IAD1B,cAEE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,KAAC,IAAD,IAAzB,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,OAAO,cAAE,KAAC,KAAD,IAA9B,EAFF,cAGE,KAAC,KAAD,EAAO,IAAI,CAAC,cAAZ,CAA2B,OAAO,cAAE,KAAC,KAAD,IAApC,EAHF,GAFF,GADF,CAUD,CAED,cAAeD,IAAf"},"metadata":{},"sourceType":"module"}