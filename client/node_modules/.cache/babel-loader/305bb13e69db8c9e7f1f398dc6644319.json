{"ast":null,"code":"import _objectSpread from\"C:/Users/user/mern-portfolio-udemy/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{message}from\"antd\";import axios from\"axios\";import React from\"react\";import{useDispatch}from\"react-redux\";import{HideLoading,ShowLoading}from\"../../redux/rootSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[user,setUser]=React.useState({username:\"\",password:\"\"});const dispatch=useDispatch();const login=async()=>{try{dispatch(ShowLoading());const response=await axios.post(\"/api/portfolio/admin-login\",user);dispatch(HideLoading());if(response.data.success){message.success(response.data.message);localStorage.setItem(\"token\",JSON.stringify(response.data));window.location.href=\"/admin\";}else{message.error(response.data.message);}}catch(error){message.error(error.message);dispatch(HideLoading());}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen bg-primary\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-96 flex gap-5 p-5 shadow border border-gray-500 flex-col bg-white\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl \",children:\"Portfolio - Admin Login\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:user.username,onChange:e=>setUser(_objectSpread(_objectSpread({},user),{},{username:e.target.value})),placeholder:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:user.password,onChange:e=>setUser(_objectSpread(_objectSpread({},user),{},{password:e.target.value})),placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-primary text-white p-2\",onClick:login,children:\"Login\"})]})});}export default Login;","map":{"version":3,"names":["message","axios","React","useDispatch","HideLoading","ShowLoading","Login","user","setUser","useState","username","password","dispatch","login","response","post","data","success","localStorage","setItem","JSON","stringify","window","location","href","error","e","target","value"],"sources":["C:/Users/user/mern-portfolio-udemy/client/src/pages/Admin/Login.js"],"sourcesContent":["import { message } from \"antd\";\r\nimport axios from \"axios\";\r\nimport React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { HideLoading, ShowLoading } from \"../../redux/rootSlice\";\r\n\r\nfunction Login() {\r\n  const [user, setUser] = React.useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n  const dispatch = useDispatch();\r\n  const login = async () => {\r\n    try {\r\n      dispatch(ShowLoading());\r\n      const response = await axios.post(\"/api/portfolio/admin-login\", user);\r\n      dispatch(HideLoading());\r\n      if (response.data.success) {\r\n        message.success(response.data.message);\r\n        localStorage.setItem(\"token\", JSON.stringify(response.data));\r\n        window.location.href = \"/admin\";\r\n      } else {\r\n        message.error(response.data.message);\r\n      }\r\n    } catch (error) {\r\n      message.error(error.message);\r\n      dispatch(HideLoading());\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex justify-center items-center h-screen bg-primary\">\r\n      <div className=\"w-96 flex gap-5 p-5 shadow border border-gray-500 flex-col bg-white\">\r\n        <h1 className=\"text-2xl \">Portfolio - Admin Login</h1>\r\n        <hr />\r\n        <input\r\n          type=\"text\"\r\n          value={user.username}\r\n          onChange={(e) => setUser({ ...user, username: e.target.value })}\r\n          placeholder=\"Username\"\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          value={user.password}\r\n          onChange={(e) => setUser({ ...user, password: e.target.value })}\r\n          placeholder=\"Password\"\r\n        />\r\n        <button className=\"bg-primary text-white p-2\" onClick={login}>\r\n          Login\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"8HAAA,OAASA,OAAT,KAAwB,MAAxB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,uBAAzC,C,wFAEA,QAASC,MAAT,EAAiB,CACf,KAAM,CAACC,IAAD,CAAOC,OAAP,EAAkBN,KAAK,CAACO,QAAN,CAAe,CACrCC,QAAQ,CAAE,EAD2B,CAErCC,QAAQ,CAAE,EAF2B,CAAf,CAAxB,CAIA,KAAMC,SAAQ,CAAGT,WAAW,EAA5B,CACA,KAAMU,MAAK,CAAG,SAAY,CACxB,GAAI,CACFD,QAAQ,CAACP,WAAW,EAAZ,CAAR,CACA,KAAMS,SAAQ,CAAG,KAAMb,MAAK,CAACc,IAAN,CAAW,4BAAX,CAAyCR,IAAzC,CAAvB,CACAK,QAAQ,CAACR,WAAW,EAAZ,CAAR,CACA,GAAIU,QAAQ,CAACE,IAAT,CAAcC,OAAlB,CAA2B,CACzBjB,OAAO,CAACiB,OAAR,CAAgBH,QAAQ,CAACE,IAAT,CAAchB,OAA9B,EACAkB,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BC,IAAI,CAACC,SAAL,CAAeP,QAAQ,CAACE,IAAxB,CAA9B,EACAM,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,QAAvB,CACD,CAJD,IAIO,CACLxB,OAAO,CAACyB,KAAR,CAAcX,QAAQ,CAACE,IAAT,CAAchB,OAA5B,EACD,CACF,CAAC,MAAOyB,KAAP,CAAc,CACdzB,OAAO,CAACyB,KAAR,CAAcA,KAAK,CAACzB,OAApB,EACAY,QAAQ,CAACR,WAAW,EAAZ,CAAR,CACD,CACF,CAhBD,CAkBA,mBACE,YAAK,SAAS,CAAC,sDAAf,uBACE,aAAK,SAAS,CAAC,qEAAf,wBACE,WAAI,SAAS,CAAC,WAAd,qCADF,cAEE,aAFF,cAGE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEG,IAAI,CAACG,QAFd,CAGE,QAAQ,CAAGgB,CAAD,EAAOlB,OAAO,gCAAMD,IAAN,MAAYG,QAAQ,CAAEgB,CAAC,CAACC,MAAF,CAASC,KAA/B,GAH1B,CAIE,WAAW,CAAC,UAJd,EAHF,cASE,cACE,IAAI,CAAC,UADP,CAEE,KAAK,CAAErB,IAAI,CAACI,QAFd,CAGE,QAAQ,CAAGe,CAAD,EAAOlB,OAAO,gCAAMD,IAAN,MAAYI,QAAQ,CAAEe,CAAC,CAACC,MAAF,CAASC,KAA/B,GAH1B,CAIE,WAAW,CAAC,UAJd,EATF,cAeE,eAAQ,SAAS,CAAC,2BAAlB,CAA8C,OAAO,CAAEf,KAAvD,mBAfF,GADF,EADF,CAuBD,CAED,cAAeP,MAAf"},"metadata":{},"sourceType":"module"}